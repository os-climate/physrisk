from pathlib import Path
from physrisk.vulnerability_models.configuration.config_builders import build_all_config


def get_source_dir():
    source_dir = (
        Path(__file__).parents[2]
        / "docs"
        / "user_guide"
        / "vulnerability"
        / "vulnerability_functions"
    )
    return source_dir


def test_generate_all_config():
    # if this is run against the library, e.g. via tox, docs data will not be available
    source_dir = get_source_dir()
    if source_dir.exists():
        build_all_config(source_dir)
